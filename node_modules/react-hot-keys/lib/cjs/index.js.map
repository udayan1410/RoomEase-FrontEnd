{"version":3,"sources":["../../src/index.tsx"],"names":["ReactHotkeys","props","isKeyDown","handle","onKeyDown","bind","onKeyUp","handleKeyUpEvent","filter","splitKey","Hotkeys","unbind","keyName","document","body","addEventListener","removeEventListener","e","disabled","shortcut","allowRepeat","indexOf","children","React","Component","defaultProps","event","target","srcElement","tagName","isContentEditable","propTypes","PropTypes","string","func","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as PropTypes from 'prop-types';\nimport Hotkeys, { HotkeysEvent } from 'hotkeys-js';\n\nexport type OnKeyFun = (shortcut: string, evn: KeyboardEvent, handle: HotkeysEvent) => void;\n\nexport interface IReactHotkeysProps {\n  keyName?: string;\n  filter?: (event: KeyboardEvent) => boolean;\n  onKeyUp?: OnKeyFun;\n  onKeyDown?: OnKeyFun;\n  allowRepeat?: boolean;\n  disabled?: boolean;\n  splitKey?: string;\n}\n\nexport default class ReactHotkeys extends React.Component<IReactHotkeysProps> {\n  public static defaultProps: IReactHotkeysProps = {\n    filter(event: KeyboardEvent) {\n      const target = (event.target as HTMLElement) || event.srcElement;\n      var tagName = target.tagName;\n      return !(target.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA');\n    },\n  }\n  static propTypes = {\n    keyName: PropTypes.string,\n    filter: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    disabled: PropTypes.bool,\n    splitKey: PropTypes.string\n  }\n  private isKeyDown: boolean = false;\n  private handle: HotkeysEvent;\n  constructor(props: IReactHotkeysProps) {\n    super(props);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.handleKeyUpEvent = this.handleKeyUpEvent.bind(this);\n    this.handle = {} as HotkeysEvent;\n  }\n  componentDidMount() {\n    const { filter, splitKey } = this.props;\n    if (filter) {\n      Hotkeys.filter = filter;\n    }\n    Hotkeys.unbind(this.props.keyName as string);\n    Hotkeys(this.props.keyName as string, { splitKey }, this.onKeyDown);\n    document && document.body.addEventListener('keyup', this.handleKeyUpEvent);\n  }\n  componentWillUnmount() {\n    Hotkeys.unbind(this.props.keyName as string);\n    this.isKeyDown = true;\n    this.handle = {} as HotkeysEvent;\n    document && document.body.removeEventListener('keyup', this.handleKeyUpEvent);\n  }\n  onKeyUp(e: KeyboardEvent, handle: HotkeysEvent) {\n    const { onKeyUp, disabled } = this.props;\n    !disabled && onKeyUp && onKeyUp(handle.shortcut, e, handle)\n  }\n  onKeyDown(e: KeyboardEvent, handle: HotkeysEvent) {\n    const { onKeyDown, allowRepeat, disabled } = this.props;\n    if (this.isKeyDown && !allowRepeat) return;\n    this.isKeyDown = true;\n    this.handle = handle;\n    !disabled && onKeyDown && onKeyDown(handle.shortcut, e, handle)\n  }\n  handleKeyUpEvent(e: KeyboardEvent) {\n    if (!this.isKeyDown) return;\n    this.isKeyDown = false;\n    if (this.props.keyName && this.props.keyName.indexOf(this.handle.shortcut) < 0) return;\n    this.onKeyUp(e, this.handle);\n    this.handle = {} as HotkeysEvent;\n  }\n  render() {\n    return this.props.children || null;\n  }\n}\n"]}