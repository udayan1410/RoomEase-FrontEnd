{"ast":null,"code":"var _jsxFileName = \"E:\\\\Web Dev\\\\React\\\\RoomEase\\\\RoomEase-FrontEnd\\\\src\\\\containers\\\\Account\\\\Signup\\\\Signup.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport RegularButton from \"../../../components/inputs/RegularButton\";\nimport TextInput from \"../../../components/inputs/TextInput\";\nimport * as classes from './signup.module.css';\nimport axios from 'axios';\nimport { SIGNUP_URL } from '../../../constants/ServerRoutes'; // import ErrorMessage from \"../../../components/inputs/ErrorMessage\";\n\nclass SignUp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      userName: '',\n      password: '',\n      phoneNumber: '',\n      error: '',\n      emailerror: ''\n    };\n\n    this.handleEmail = event => {\n      this.setState({\n        email: event.target.value\n      }); // let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      // if (!re.test(event.target.value)) {\n      //   this.setState({ emailerror: \"Enter valid email\" })\n      // }\n      // else\n      //   this.setState({ email: event.target.value });\n    };\n\n    this.handlePassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.handlephoneNumber = event => {\n      this.setState({\n        phoneNumber: event.target.value\n      });\n    };\n\n    this.handleUserName = event => {\n      this.setState({\n        userName: event.target.value\n      });\n    };\n\n    this.validate = () => {\n      if (this.state.email === '' || this.state.phoneNumber === '' || this.state.userName === '' || this.state.password === '') return false;\n      return true;\n    };\n\n    this.authenticateUser = async () => {\n      if (this.validate()) {\n        try {\n          let loginCredentials = {\n            userName: this.state.userName,\n            phoneNumber: this.state.phoneNumber,\n            email: this.state.email,\n            password: this.state.password\n          };\n          let loginStatus = (await axios.post(SIGNUP_URL, loginCredentials)).data;\n          let {\n            Result,\n            Error\n          } = loginStatus;\n          console.log(Result);\n\n          if (Result === \"Success\") {\n            this.setState({\n              error: \"\"\n            });\n            this.props.history.goBack();\n          } else this.setState({\n            error: Error\n          });\n        } catch (err) {\n          this.setState({\n            error: err.message\n          });\n        }\n      } else {\n        this.setState({\n          error: \"Fields cannot be empty\"\n        });\n      }\n    };\n  }\n\n  render() {\n    let erorrMessage = null;\n    let emailError = null;\n    if (this.state.error) erorrMessage = /*#__PURE__*/React.createElement(\"p\", {\n      className: classes.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 23\n      }\n    }, this.state.error);\n    if (this.state.emailerror) emailError = /*#__PURE__*/React.createElement(\"p\", {\n      className: classes.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, this.state.emailerror);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"RoomEase\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.Form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: classes.signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(TextInput, {\n      hint: \"Enter Username\",\n      type: \"text\",\n      onChange: this.handleUserName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      hint: \"Enter Password\",\n      type: \"password\",\n      onChange: this.handlePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      hint: \"Enter Email id\",\n      type: \"email\",\n      onChange: this.handleEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }), emailError, /*#__PURE__*/React.createElement(TextInput, {\n      hint: \"Enter Phone Number\",\n      type: \"number\",\n      onChange: this.handlephoneNumber,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(RegularButton, {\n      text: \"SUBMIT\",\n      onClick: this.authenticateUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), erorrMessage, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"forgot-password text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, \"Already a User? Sign In here\"))));\n  }\n\n}\n\nexport default withRouter(SignUp);","map":{"version":3,"sources":["E:/Web Dev/React/RoomEase/RoomEase-FrontEnd/src/containers/Account/Signup/Signup.js"],"names":["React","Component","Link","withRouter","RegularButton","TextInput","classes","axios","SIGNUP_URL","SignUp","state","email","userName","password","phoneNumber","error","emailerror","handleEmail","event","setState","target","value","handlePassword","handlephoneNumber","handleUserName","validate","authenticateUser","loginCredentials","loginStatus","post","data","Result","Error","console","log","props","history","goBack","err","message","render","erorrMessage","emailError","Form","signup"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport RegularButton from \"../../../components/inputs/RegularButton\";\r\nimport TextInput from \"../../../components/inputs/TextInput\";\r\nimport * as classes from './signup.module.css';\r\nimport axios from 'axios';\r\nimport { SIGNUP_URL } from '../../../constants/ServerRoutes';\r\n// import ErrorMessage from \"../../../components/inputs/ErrorMessage\";\r\n\r\nclass SignUp extends Component {\r\n\r\n  state = {\r\n    email: '',\r\n    userName: '',\r\n    password: '',\r\n    phoneNumber: '',\r\n    error: '',\r\n    emailerror: '',\r\n  };\r\n\r\n  handleEmail = event => {\r\n    this.setState({ email: event.target.value });\r\n    // let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    // if (!re.test(event.target.value)) {\r\n    //   this.setState({ emailerror: \"Enter valid email\" })\r\n    // }\r\n    // else\r\n    //   this.setState({ email: event.target.value });\r\n  };\r\n  handlePassword = event => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n  handlephoneNumber = event => {\r\n    this.setState({ phoneNumber: event.target.value });\r\n  };\r\n  handleUserName = event => {\r\n    this.setState({ userName: event.target.value });\r\n  };\r\n  validate = () => {\r\n\r\n    if (this.state.email === '' || this.state.phoneNumber === '' || this.state.userName === '' || this.state.password === '')\r\n      return false\r\n    return true\r\n  }\r\n  authenticateUser = async () => {\r\n\r\n    if (this.validate()) {\r\n      try {\r\n\r\n        let loginCredentials = { userName: this.state.userName, phoneNumber: this.state.phoneNumber, email: this.state.email, password: this.state.password }\r\n        let loginStatus = (await axios.post(SIGNUP_URL, loginCredentials)).data;\r\n        let { Result, Error } = loginStatus;\r\n        console.log(Result)\r\n        if (Result === \"Success\") {\r\n          this.setState({ error: \"\" })\r\n          this.props.history.goBack();\r\n        }\r\n        else\r\n          this.setState({ error: Error })\r\n      }\r\n      catch (err) {\r\n        this.setState({ error: err.message })\r\n      }\r\n    }\r\n    else {\r\n      this.setState({ error: \"Fields cannot be empty\" })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let erorrMessage = null;\r\n    let emailError = null;\r\n    if (this.state.error)\r\n      erorrMessage = (<p className={classes.error}>{this.state.error}</p>)\r\n    if (this.state.emailerror)\r\n      emailError = (<p className={classes.error}>{this.state.emailerror}</p>)\r\n\r\n\r\n    return (\r\n      <div >\r\n        <h1>RoomEase</h1>\r\n        <form className={classes.Form}>\r\n          <p className={classes.signup}>Sign Up</p>\r\n          <TextInput hint=\"Enter Username\" type=\"text\" onChange={this.handleUserName} />\r\n          <TextInput hint=\"Enter Password\" type=\"password\" onChange={this.handlePassword} />\r\n          <TextInput hint=\"Enter Email id\" type=\"email\" onChange={this.handleEmail} />\r\n          {emailError}\r\n          <TextInput hint=\"Enter Phone Number\" type=\"number\" onChange={this.handlephoneNumber} />\r\n          <RegularButton text=\"SUBMIT\" onClick={this.authenticateUser} />\r\n          {erorrMessage}\r\n          <p className=\"forgot-password text-right\">\r\n            <Link to=\"login\">Already a User? Sign In here</Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(SignUp);"]},"metadata":{},"sourceType":"module"}